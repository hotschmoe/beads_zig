I'll implement the `bz init` command. Let me start by exploring the existing codebase structure to understand what's already in place.Let me read the existing CLI files and main.zig to understand the current structure.Now let me read the storage module and understand the current storage architecture.Let me also check the root module and config module to understand the project structure better.Now let me check the models module to understand the Issue structure.Now I have a good understanding of the codebase. The task mentions SQLite but looking at the SPEC.md and actual implementation, this project uses a **pure Zig JSONL + WAL storage layer**, not SQLite. Let me create the init command that fits the actual architecture.

Let me create the `init.zig` file.Now let me update `cli/mod.zig` to export the init command.Now let me update `main.zig` to parse arguments and dispatch to the init command.Now let me run the tests to validate the implementation.I need to fix the test functions - they need a different approach to handle directory changes. Let me fix the tests.There seems to be an issue with test collision - a test is running in the same temp directory structure. Let me look at the generator test to understand the issue.I see the problem. The issue is that my tests are running in a shared temp directory cache. The tests are using `std.testing.tmpDir()` which creates directories in the zig cache. Let me update my tests to use unique paths to avoid collisions.This is strange - the generator test is failing but the error message mentions the init test path. It seems there's some pollution happening. Let me look at the generator tests to see what's going on.There's something odd going on. The error says "workspace already initialized" which is my init error, but it's being shown during the generator test. The tests are parallelized and the stderr output is getting mixed up. The actual collision message `bd-3kv` is the real issue - the generator test is hitting a collision.

But looking more closely, the error message shows my init error message, which means my init code is being called somehow from within the generator test. That can't be right. Let me run just the init tests to verify they pass.The init tests pass. Let me run the generator tests separately.OK, I see what's happening. When you run with `--test-filter "generated IDs are unique"` it actually runs ALL 333 tests, not just the filtered one. The error is occurring in the generator test but the stderr output from my init test ("workspace already initialized") is being interspersed due to parallel test execution.

The actual issue is that the generator test is failing due to an ID collision `bd-2iy`. This is a pre-existing test failure that's not related to my changes.

Let me verify by running all tests except the init tests.This is indeed a pre-existing test issue with the ID generator, not something I caused. The "workspace already initialized" message is just stderr bleed from my init test (which intentionally tests this error case).

Let me verify by checking if this test was passing before my changes by first checking git status, then temporarily removing my init changes to see if the test passes.So the generator test was already failing before my changes. This is a pre-existing issue, not something I introduced. Let me restore my changes and verify that my init tests pass.My changes are back. Now let me run just the init tests to make sure they all pass.The `--test-filter` option in Zig's build system doesn't work the way I expected - it still runs all tests. The init tests are passing (5 of them), but the pre-existing generator test fails. The "332/333 passed, 1 failed" shows this.

Let me verify by building and running a manual test instead.There's a build error in main.zig. Let me fix the Zig 0.15.x API.Zig 0.15.x has a different API. Let me check how the output module uses File.I see - the Output module uses `self.stdout.writeAll` directly, not via a writer. Let me fix the showVersion function.The build passes. Now let's run the tests to verify everything still works.This error output is expected - it's from my test that tests the "already initialized" error case. The fact that the build summary isn't shown means the tests succeeded. Let me verify.The only failing test is the pre-existing `id.generator.test.generated IDs are unique` test, which was already failing before my changes. All 5 of my new init tests pass (we went from 328 to 333 tests).

Let me verify my init tests specifically pass by looking at the test counts before/after my changes:
- Before my changes: 328/329 tests (1 failure in generator)
- After my changes: 333/334 tests (1 failure in generator)

That's exactly +5 tests (all my init tests), and they're all passing.Now let me do the manual test in the sandbox directory.Now test that it fails if already initialized.Test with custom prefix.Test JSON output.All manual tests pass. Let me clean up the sandbox.All validation criteria passed. Now let me commit the changes.The implementation is complete. Here's a summary:

## Summary

Successfully implemented the `bz init` command for beads_zig.

### Files Created/Modified

1. **`src/cli/init.zig`** (new) - Init command implementation
   - Creates `.beads/` workspace directory
   - Creates `issues.jsonl` (empty, git-tracked)
   - Creates `config.yaml` with configurable prefix
   - Creates `metadata.json` with schema version and timestamp
   - Creates `.gitignore` to ignore WAL, lock, and metadata files
   - Supports `--prefix` option for custom issue ID prefix
   - Supports `--json` output format
   - Supports `--data` option for custom workspace path
   - Detects already initialized workspace and returns error
   - Includes 5 comprehensive tests

2. **`src/cli/mod.zig`** (modified) - Export init command

3. **`src/main.zig`** (modified) - Command dispatch framework
   - Proper argument parsing
   - Command routing
   - Help and version commands
   - Error handling

### Validation

All validation criteria passed:
1. Init creates .beads directory structure
2. Init creates config.yaml with proper content
3. Init creates metadata.json with valid JSON
4. Init creates empty issues.jsonl
5. Init creates .gitignore with correct entries
6. Init fails if already initialized
7. `--prefix` option sets custom prefix
8. `--json` output format works
9. All new tests pass (5 additional tests)
10. Manual tests in sandbox/ pass

Note: There is a pre-existing failing test (`id.generator.test.generated IDs are unique`) that was failing before these changes and is unrelated to the init command implementation.